"""
新旧方法指标对比可视化总结
"""

# 对应图表中的三类指标对比

import pandas as pd

# 结果数据
results = {
    '指标': [
        '1. 稳定性（Bootstrap翻转率）',
        '2. 抗操纵性（攻击偏移率）',
        '3. 一致性（Spearman相关系数）'
    ],
    '旧方法': ['0.1165', '0.0500', '0.5421'],
    '新方法': ['0.8842', '0.0500', '0.6046'],
    '更优方法': ['旧方法', '持平', '新方法'],
    '指标解释': [
        '越低越好（翻转概率低=判定稳定）',
        '越低越好（偏移率低=抗操纵性强）',
        '越高越好（相关系数高=一致性好）'
    ]
}

df = pd.DataFrame(results)

print("\n" + "=" * 100)
print("【节目投票/淘汰赛制】三类指标综合对比 - 新旧方法评估")
print("=" * 100)
print("\n背景：在'节目观众投票/淘汰赛制'语境下，通常评估以下三类指标：")
print("  1. 稳定性 - 同样条件下结果对小幅票数扰动是否稳定（bootstrap翻转率）")
print("  2. 抗操纵性 - 对刷票/团队投票注入的敏感度（攻击强度-结果偏移曲线）")
print("  3. 一致性 - 与评委打分或后续表现的择相关（Spearman/Kendall）\n")

print(df.to_string(index=False))

print("\n" + "=" * 100)
print("详细解读")
print("=" * 100)

print("\n【1】稳定性 (Stability)")
print("-" * 100)
print("  指标：Bootstrap翻转率 = 0.1165 (旧方法) vs 0.8842 (新方法)")
print("  含义：当投票数小幅扰动(±5%)时，淘汰判定翻转的概率")
print("  越低越好：表示判定结果更稳定，不易被小幅波动影响")
print("\n  结论：")
print("    ✓ 旧方法（淘汰概率模型）翻转率仅 0.1165，非常稳定")
print("    ✗ 新方法（末尾两位+评委最低）翻转率达 0.8842，较不稳定")
print("    → 旧方法稳定性优势明显（低86.82%）")
print("\n  说明：这是因为旧方法基于连续概率，而新方法基于离散排名判定")

print("\n【2】抗操纵性 (Robustness)")
print("-" * 100)
print("  指标：单次攻击结果偏移率 = 0.0500 (旧方法) vs 0.0500 (新方法)")
print("  含义：当投票被恶意操纵时，预测结果的变化幅度")
print("  越低越好：表示抗操纵能力越强，难以被刷票影响")
print("\n  结论：")
print("    → 两种方法持平（都是0.0500），抗操纵性相当")
print("\n  说明：两种方法对恶意操纵的抵抗力相似")

print("\n【3】一致性 (Consistency)")
print("-" * 100)
print("  指标：Spearman相关系数 = 0.5421 (旧方法) vs 0.6046 (新方法)")
print("  含义：预测排名与评委排名的相关性（1=完全一致，-1=完全相反）")
print("  越高越好：表示与评委排名一致性强，方法更合理")
print("\n  结论：")
print("    ✓ 新方法Spearman系数 0.6046，一致性更强")
print("    ✗ 旧方法Spearman系数 0.5421，一致性较弱")
print("    → 新方法一致性优势明显（高10.34%）")
print("\n  说明：新方法更接近评委的判断逻辑，更符合人为决策规则")

print("\n" + "=" * 100)
print("综合结论")
print("=" * 100)
print("\n两种方法各有优劣：")
print("\n  旧方法（淘汰概率模型）")
print("    优势：★★★ 稳定性最强（翻转率最低）")
print("    劣势：★★☆ 一致性较弱（与评委排名相关性不够强）")
print("    适用：适合数学模型驱动，强调结果稳定性的场景")
print("\n  新方法（末尾两位+评委最低）")
print("    优势：★★★ 一致性最强（与评委排名相关性最强）")
print("    劣势：★★☆ 稳定性较弱（对小幅波动敏感）")
print("    适用：适合规则驱动，强调判定逻辑可解释性的场景")
print("\n  抗操纵性：两种方法持平")
print("\n" + "=" * 100)
